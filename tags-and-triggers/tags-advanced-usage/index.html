



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../images/favicon.ico">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.5.0">
    
    
      
        <title>Tags - Advanced usage - Carl-bot Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.1b62728e.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-palette.a8b3c06d.css">
      
      
        
        
        <meta name="theme-color" content="#546e7a">
      
    
    
      <script src="../../assets/javascripts/modernizr.268332fc.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Fira+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Fira Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
    
      
        
<script>
  window.ga = window.ga || function() {
    (ga.q = ga.q || []).push(arguments)
  }
  ga.l = +new Date
  /* Setup integration and send page view */
  ga("create", "UA-126357432-1", "auto")
  ga("set", "anonymizeIp", true)
  ga("send", "pageview")
  /* Register handler to log search on blur */
  document.addEventListener("DOMContentLoaded", () => {
    if (document.forms.search) {
      var query = document.forms.search.query
      query.addEventListener("blur", function() {
        if (this.value) {
          var path = document.location.pathname;
          ga("send", "pageview", path + "?q=" + this.value)
        }
      })
    }
  })
</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="blue-grey" data-md-color-accent="cyan">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#tags-advanced-usage" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../.." title="Carl-bot Documentation" class="md-header-nav__button md-logo">
          
            <img src="../../images/googleturtle.svg" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Carl-bot Documentation
            </span>
            <span class="md-header-nav__topic">
              
                Tags - Advanced usage
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/CarlGroth/carlbot-docs/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    carlbot-docs
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
        

  

<nav class="md-tabs md-tabs--active" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  <li class="md-tabs__item">
    
      <a href="../.." class="md-tabs__link">
        Home
      </a>
    
  </li>

      
        
      
        
      
        
      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../config/command-permissions/" class="md-tabs__link">
          Config
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../levels/levels/" class="md-tabs__link">
          Levels
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../logging/logging/" class="md-tabs__link">
          Logging
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../misc/animals/" class="md-tabs__link">
          Misc
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../moderation/automod/" class="md-tabs__link">
          Moderation
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../music/music/" class="md-tabs__link">
          Music
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../notifications/twitch/" class="md-tabs__link">
          Notifications
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../roles/autoroles/" class="md-tabs__link">
          Roles
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../ccs/" class="md-tabs__link md-tabs__link--active">
          Tags and triggers
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../utilities/announcements/" class="md-tabs__link">
          Utilities
        </a>
      
    </li>
  

      
    </ul>
  </div>
</nav>
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../.." title="Carl-bot Documentation" class="md-nav__button md-logo">
      
        <img src="../../images/googleturtle.svg" width="48" height="48">
      
    </a>
    Carl-bot Documentation
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/CarlGroth/carlbot-docs/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    carlbot-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../SUMMARY/" title="Table of contents" class="md-nav__link">
      Table of contents
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../basic-bot-setup/" title="Basic bot setup" class="md-nav__link">
      Basic bot setup
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../faq/" title="FAQ" class="md-nav__link">
      FAQ
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Config
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Config
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../config/command-permissions/" title="Managing commands" class="md-nav__link">
      Managing commands
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../config/prefixes/" title="Prefixes" class="md-nav__link">
      Prefixes
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Levels
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Levels
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../levels/levels/" title="Levels" class="md-nav__link">
      Levels
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Logging
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Logging
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../logging/logging/" title="Logging" class="md-nav__link">
      Logging
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../logging/modlogs/" title="Modlogs" class="md-nav__link">
      Modlogs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../logging/welcome-messages/" title="Welcome and leave messages" class="md-nav__link">
      Welcome and leave messages
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      Misc
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        Misc
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../misc/animals/" title="Animals" class="md-nav__link">
      Animals
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../misc/silly-useless/" title="Silly/useless" class="md-nav__link">
      Silly/useless
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9">
    
    <label class="md-nav__link" for="nav-9">
      Moderation
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        Moderation
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../moderation/automod/" title="Automod" class="md-nav__link">
      Automod
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../moderation/moderation/" title="Moderation" class="md-nav__link">
      Moderation
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10" type="checkbox" id="nav-10">
    
    <label class="md-nav__link" for="nav-10">
      Music
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-10">
        Music
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../music/music/" title="Music" class="md-nav__link">
      Music
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-11" type="checkbox" id="nav-11">
    
    <label class="md-nav__link" for="nav-11">
      Notifications
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-11">
        Notifications
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../notifications/twitch/" title="Twitch" class="md-nav__link">
      Twitch
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../notifications/youtube/" title="Youtube" class="md-nav__link">
      Youtube
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-12" type="checkbox" id="nav-12">
    
    <label class="md-nav__link" for="nav-12">
      Roles
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-12">
        Roles
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../roles/autoroles/" title="Autoroles and delayed autoroles" class="md-nav__link">
      Autoroles and delayed autoroles
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../roles/reaction-roles/" title="Reaction Roles" class="md-nav__link">
      Reaction Roles
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../roles/role-management/" title="Role management" class="md-nav__link">
      Role management
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-13" type="checkbox" id="nav-13" checked>
    
    <label class="md-nav__link" for="nav-13">
      Tags and triggers
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-13">
        Tags and triggers
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../ccs/" title="Tags" class="md-nav__link">
      Tags
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../collection/" title="Collection of high quality tags" class="md-nav__link">
      Collection of high quality tags
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Tags - Advanced usage
      </label>
    
    <a href="./" title="Tags - Advanced usage" class="md-nav__link md-nav__link--active">
      Tags - Advanced usage
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#anatomy-of-a-tagscript-block" class="md-nav__link">
    Anatomy of a Tagscript Block
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#default-arguments" class="md-nav__link">
    Default Arguments
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#discord-object-properties" class="md-nav__link">
    Discord Object Properties
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#meta-blocks" class="md-nav__link">
    Meta Blocks
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#action-blocks" class="md-nav__link">
    Action Blocks
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#redirection-blocks" class="md-nav__link">
    Redirection Blocks
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#require-blacklist-blocks" class="md-nav__link">
    Require &amp; Blacklist Blocks
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#react-blocks" class="md-nav__link">
    React Blocks
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#command-blocks" class="md-nav__link">
    Command Blocks
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#control-blocks" class="md-nav__link">
    Control Blocks
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-storage-parsing" class="md-nav__link">
    Data Storage &amp; Parsing
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#variable-assignment-blocks" class="md-nav__link">
    Variable Assignment Blocks
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#variable-blocks" class="md-nav__link">
    Variable Blocks
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#list-cycle-blocks" class="md-nav__link">
    List &amp; Cycle Blocks
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#index-blocks" class="md-nav__link">
    Index Blocks
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#membership-test-operations" class="md-nav__link">
    Membership Test Operations
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#embed-blocks" class="md-nav__link">
    Embed Blocks
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#manipulation-blocks" class="md-nav__link">
    Manipulation Blocks
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#case-blocks" class="md-nav__link">
    Case Blocks
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#url-encode-blocks" class="md-nav__link">
    URL Encode Blocks
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#join-replace-blocks" class="md-nav__link">
    Join &amp; Replace Blocks
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#math-blocks" class="md-nav__link">
    Math Blocks
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rng-blocks" class="md-nav__link">
    RNG Blocks
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#random-blocks" class="md-nav__link">
    Random Blocks
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#range-blocks" class="md-nav__link">
    Range Blocks
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5050-blocks" class="md-nav__link">
    50/50 Blocks
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#time-blocks" class="md-nav__link">
    Time Blocks
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#strf-blocks" class="md-nav__link">
    Strf Blocks
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#timedelta-blocks" class="md-nav__link">
    Timedelta Blocks
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#important-note-on-block-behavior" class="md-nav__link">
    Important Note on Block Behavior
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../triggers/" title="Triggers" class="md-nav__link">
      Triggers
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-14" type="checkbox" id="nav-14">
    
    <label class="md-nav__link" for="nav-14">
      Utilities
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-14">
        Utilities
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../utilities/announcements/" title="Announcements" class="md-nav__link">
      Announcements
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../utilities/dump/" title="Member dump" class="md-nav__link">
      Member dump
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../utilities/embeds/" title="Embeds" class="md-nav__link">
      Embeds
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../utilities/highlights-pager/" title="Highlights/pager" class="md-nav__link">
      Highlights/pager
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../utilities/reminders-timers/" title="Reminders/Timers" class="md-nav__link">
      Reminders/Timers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../utilities/starboard/" title="Starboard" class="md-nav__link">
      Starboard
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../utilities/suggestions/" title="Suggestions" class="md-nav__link">
      Suggestions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../utilities/uncategorized-utilities/" title="Uncategorized utilities" class="md-nav__link">
      Uncategorized utilities
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#anatomy-of-a-tagscript-block" class="md-nav__link">
    Anatomy of a Tagscript Block
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#default-arguments" class="md-nav__link">
    Default Arguments
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#discord-object-properties" class="md-nav__link">
    Discord Object Properties
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#meta-blocks" class="md-nav__link">
    Meta Blocks
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#action-blocks" class="md-nav__link">
    Action Blocks
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#redirection-blocks" class="md-nav__link">
    Redirection Blocks
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#require-blacklist-blocks" class="md-nav__link">
    Require &amp; Blacklist Blocks
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#react-blocks" class="md-nav__link">
    React Blocks
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#command-blocks" class="md-nav__link">
    Command Blocks
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#control-blocks" class="md-nav__link">
    Control Blocks
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-storage-parsing" class="md-nav__link">
    Data Storage &amp; Parsing
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#variable-assignment-blocks" class="md-nav__link">
    Variable Assignment Blocks
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#variable-blocks" class="md-nav__link">
    Variable Blocks
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#list-cycle-blocks" class="md-nav__link">
    List &amp; Cycle Blocks
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#index-blocks" class="md-nav__link">
    Index Blocks
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#membership-test-operations" class="md-nav__link">
    Membership Test Operations
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#embed-blocks" class="md-nav__link">
    Embed Blocks
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#manipulation-blocks" class="md-nav__link">
    Manipulation Blocks
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#case-blocks" class="md-nav__link">
    Case Blocks
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#url-encode-blocks" class="md-nav__link">
    URL Encode Blocks
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#join-replace-blocks" class="md-nav__link">
    Join &amp; Replace Blocks
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#math-blocks" class="md-nav__link">
    Math Blocks
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rng-blocks" class="md-nav__link">
    RNG Blocks
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#random-blocks" class="md-nav__link">
    Random Blocks
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#range-blocks" class="md-nav__link">
    Range Blocks
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5050-blocks" class="md-nav__link">
    50/50 Blocks
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#time-blocks" class="md-nav__link">
    Time Blocks
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#strf-blocks" class="md-nav__link">
    Strf Blocks
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#timedelta-blocks" class="md-nav__link">
    Timedelta Blocks
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#important-note-on-block-behavior" class="md-nav__link">
    Important Note on Block Behavior
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/CarlGroth/carlbot-docs/edit/master/docs/tags-and-triggers/tags-advanced-usage.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="tags-advanced-usage">Tags - Advanced usage</h1>
<p>Tags are custom commands. They are easy to use and can be very powerful. With some ingenuity, you can create your own. It is for instance entirely possible to create an 8ball command, a hug command and many other things using just tags. Though to do more than just output plaintext, you must configure the command's behavior using what is called Tagscript. Tagscript is a small language the bot interprets, made up of dynamic "blocks". To build a tag you will need to combine various blocks to tell the tag what you want it to do. Some parts of Tagscript can be used elsewhere within Carl-bot, like in Triggers, Autofeeds, and Welcome/Leave/Ban Messages.</p>
<h2 id="anatomy-of-a-tagscript-block">Anatomy of a Tagscript Block</h2>
<p>All Tagscript blocks begin with a left curly brace <code>{</code>, and end with a right curly brace <code>}</code>.</p>
<p>Immediately after the left curly brace is the block <em>name</em>, which determines the behavior of the block. Some blocks have aliases or multiple names that produce the same behavior.</p>
<p>Depending on the block name and desired behavior, there might be <em>parameters</em> following the block name. These are put inside parentheses: <code>(parameters)</code></p>
<p>If the block performs an action upon a variable or string, that object, called the <em>payload</em>, must follow the parameters or block name. The payload is separated from the rest of the block by a colon. <code>:</code></p>
<div class="admonition info">
<p class="admonition-title">Anatomy of a Tagscript Block</p>
<p><code>{blockname(parameters):payload}</code></p>
</div>
<p>Now to get to the blocks themselves. Tagscript blocks are split into rough categories based on their behavior or characteristics:</p>
<h2 id="default-arguments">Default Arguments</h2>
<p>Tagscript comes with a few default arguments. These are:</p>
<div class="admonition example">
<p class="admonition-title">Default Arguments</p>
<ul>
<li><code>{unix}</code><br>Current Unix time, useful for math blocks. This only works in Tags.</li>
<li><code>{uses}</code><br>The number of times the tag has been used. This only works in Tags.</li>
<li><code>{args}</code><br>The arguments (words used) after the tag invocation.<br>!foo bar baz means <code>{args}</code>==bar baz<br>For triggers <code>{args}</code> contains the entire message.</li>
<li><code>{mention}</code><br>Mentions the user of the tag<br><br>
<strong>Discord Objects:</strong></li>
<li><code>{user}</code><br>Nickname of the user that used the tag</li>
<li><code>{target}</code><br>Similar to <code>{user}</code>, if the tag user mentions someone after the invocation, this variable is the mentioned user's nickname. If nobody is not mentioned, <code>{target}</code>==<code>{user}</code>.</li>
<li><code>{server}</code><br>The name of the server</li>
<li><code>{channel}</code><br>The name of the channel the tag was used in</li>
</ul>
</div>
<h3 id="discord-object-properties">Discord Object Properties</h3>
<p>Discord Object blocks, which are listed under Default Arguments above, contain certain properties. To access a property, you specify the property name as the block's parameter, like <code>{user(id)}</code>. You can access properties relating to the <code>{user}</code>, <code>{target}</code>, <code>{server}</code> and <code>{channel}</code> blocks.</p>
<div class="admonition example">
<p class="admonition-title">{user} &amp; {target} Properties</p>
<ul>
<li>(avatar): a link to the user's avatar</li>
<li>(id): the user's Discord ID, a multi-digit number that is unique to that user. </li>
<li>(mention): a string to mention the user.</li>
<li>(created_at): outputs the date the account was created in the format yyyy-mm-dd HH:MM:SS </li>
<li>(joined_at): outputs the date the account joined the server in the format yyyy-mm-dd HH:MM:SS </li>
<li>(color): the hexadecimal color code relating to the user's highest non-default role color.</li>
<li>(name): their Discord account username, not their nickname.</li>
<li>(proper): their username followed by their discriminator. username#0001</li>
<li>(roleids): a list of the role IDs for every role the user has, listed from lowest in the hierarchy to highest</li>
<li>(position): their position in the role hierarchy. Position starts with 0 for @everyone at the bottom and increases by 1 for each role in the server going upwards.</li>
</ul>
</div>
<div class="admonition example">
<p class="admonition-title">{server} Properties</p>
<ul>
<li>(icon): a link to the Server's icon </li>
<li>(id): the Server's ID </li>
<li>(owner): username#discrim format of the server owner </li>
<li>(random): username#discrim format of a random member of the server</li>
<li>(randomonline): username#discrim format of a random member who is online </li>
<li>(randomoffline): username#discrim format of a random member who is offline </li>
<li>(members): number of members in the server </li>
<li>(bots): number of bots in the server</li>
<li>(humans): number of humans in the server</li>
<li>(roles): number of roles in the server</li>
<li>(channels): number of channels in the server</li>
<li>(created_at): when the server was created in the format yyyy-mm-dd HH:MM:SS </li>
</ul>
</div>
<div class="admonition example">
<p class="admonition-title">{channel} Properties</p>
<ul>
<li>(id): the channel's id </li>
<li>(topic): the channel's topic </li>
<li>(slowmode): the current slowmode delay </li>
<li>(position): the channel's position. This is the order in which the channels were created, 0 being the first channel in the server.</li>
<li>(mention): clickable link to the channel</li>
</ul>
</div>
<h2 id="meta-blocks">Meta Blocks</h2>
<p>Meta blocks change the tag's overall behavior. Where the output is sent, if the invocation is deleted, if any commands blocks used in the tag should output their standard output in addition to the tag's output, who can and can't use the tag, if the bot should react to the invocation or the output, etc.</p>
<h3 id="action-blocks">Action Blocks</h3>
<p>Action blocks change how the invocation, tag output, and command blocks contained within the tag act.</p>
<div class="admonition example">
<p class="admonition-title">Action Blocks</p>
<ul>
<li><code>{delete}</code><br>Deletes the message or invocation that triggered the tag.</li>
<li><code>{silence}</code><br>Silences the usual output of any command being used in a command block.</li>
<li><code>{override}</code><br>This instructs the tag to act as if the tag user has the modrole. It still respects role hierarchy. For a tag creator to add this they must have manage server or the modrole.</li>
</ul>
</div>
<h3 id="redirection-blocks">Redirection Blocks</h3>
<p>Redirects the output of the tag and any command blocks unless otherwise specified in the command. You can only specify one tag output destination, if multiple are provided the latter will override the former.</p>
<div class="admonition example">
<p class="admonition-title">Redirection Blocks</p>
<ul>
<li><code>{dm}</code><br>Redirects output as a direct message to the user who uses the tag.</li>
<li><code>{redirect:channel}</code><br>Redirects output to the specified channel. The tag's creator needs to have send message permissions in the pointed channel.</li>
</ul>
</div>
<p>The "channel" must either be valid a channel name, a channel id, or a mention formatted channel id <code>&lt;#556675168634798111&gt;</code>. </p>
<div class="admonition memo">
<p class="admonition-title">Example - Redirection Blocks</p>
<ul>
<li><code>{user}</code> says: <code>{args}</code> <code>{redirect:screaming-out-loud}</code></li>
<li><code>{redirect:186980582863929345}</code></li>
</ul>
</div>
<h3 id="require-blacklist-blocks">Require &amp; Blacklist Blocks</h3>
<p>Restricts tag usage to users with or without roles, to only certain channels, or to exclude specific channels.</p>
<div class="admonition example">
<p class="admonition-title">Require &amp; Blacklist Blocks</p>
<ul>
<li><code>{require(message):channel,role}</code><br>Limits the tag to executing when the user has a role listed or when used in a channel listed.</li>
<li><code>{blacklist(message):channel,role}</code><br>Prevents the tag from executing when the user has a role listed or when used in a channel listed.</li>
</ul>
</div>
<p>The message in the parameters is optional. It will display <em>instead of</em> the warning emoji if the require block or blacklist block prevent the user from using the tag.</p>
<p>Both accept roles and channels. Entries must be separated by a comma.<br>
They must either be a role/channel name, a role/channel id, or a mention formatted role/channel id <code>&lt;@&amp;554342061428572170&gt;</code> or <code>&lt;#556675168634798111&gt;</code>.</p>
<div class="admonition memo">
<p class="admonition-title">Examples - Require &amp; Blacklist</p>
<ul>
<li><code>{require(you're not cool enough):Cool kids}</code> Word around the office is that <code>{user}</code> is kind of a big deal</li>
<li><code>{blacklist:Staff}</code> You have no power here</li>
</ul>
</div>
<div class="admonition warning">
<p class="admonition-title">Channel and Role Names</p>
<p>Be cautious of using channel and role names in restrict, require, and blacklist blocks. If the channel or role name is changed, the tag must be changed or it will not function as intended. Using IDs makes this a non-issue as channel and role IDs cannot change.</p>
</div>
<h3 id="react-blocks">React Blocks</h3>
<p>React Blocks instruct Carl-bot to react to either the invocation or the output. Carl-bot, like all discord accounts, must be in the server where the emoji is hosted to be able to use it. If the emoji is from a server he is in but not the server the tag is in, the emoji id may need to be used instead of just the name. <code>&lt;:carlpat:590335691968348191&gt;</code></p>
<p>React Blocks are limited to using one emoji, but this restriction is lifted for premium servers in which react blocks can use 5 emojis.</p>
<div class="admonition example">
<p class="admonition-title">React Blocks</p>
<ul>
<li><code>{react: :laughing: :fortnight:}</code><br>Reacts to the tag's output with the emoji(s) listed.</li>
<li><code>{reactu: :laughing: :fortnight:}</code><br>Reacts to the tag's invocation with the emoji(s) listed.</li>
</ul>
</div>
<p>Use a space to separate multiple emoji.</p>
<h2 id="command-blocks">Command Blocks</h2>
<p>Command blocks execute a Carl-bot command. The formatting and syntax do not change compared to how Carl-bot commands are normally used, except you do not include a prefix. Tags are limited to using one command block per tag unless the server is marked as premium, then they can use 3 command blocks per tag. Command blocks cannot use reaction role commands, nor can they call other tags or use tag commands. If the tag's user does not have the permissions required to use the command, Carl-bot will not use it and will output an error message as if they had tried to use the command. As stated in the Action Blocks section, <code>{override}</code> can be a useful tool in allowing users that would not otherwise have permission to use a specific command. Command blocks can only be used in Tags.</p>
<div class="admonition example">
<p class="admonition-title">Command Block Aliases</p>
<ul>
<li><code>{cmd:echo {args}}</code></li>
<li><code>{c:role add {user(id)} Verified}</code><br>Executes the Carl-bot command in the payload. Block names are synonymous.</li>
</ul>
</div>
<p>Command blocks can also be used to rename a command or create an alias for it.</p>
<div class="admonition memo">
<p class="admonition-title">Example - Command Alias</p>
<p><code>!tag + whois {cmd:info {args}}</code></p>
</div>
<h2 id="control-blocks">Control Blocks</h2>
<p>Control blocks control the flow of your tag and determine what payloads are passed to the rest of the tag or block. They are conditional statements that evaluate boolean equations you provide as block parameters. A boolean is a binary variable, having two possible values called <em>true</em> and <em>false</em>. Boolean equations compare a value on the left of an operator to a value to the right of the operator, and depending on the comparison the operator requires, it evaluates to either true or false. To begin, you need to understand how to form a boolean equation.</p>
<div class="admonition summary">
<p class="admonition-title">Boolean Operators in Tagscript</p>
<ul>
<li><code>==</code><br>Evaluates to true if the value on the left is equal to the value on the right.</li>
<li><code>!=</code><br>Evaluates to true if the value on the left is not equal to the value on the right.</li>
<li><code>&gt;</code> and <code>&gt;=</code><br>Evaluates to true if the number on the left side is greater than the number on the right.<br><code>&gt;=</code> is greater than or equal.</li>
<li><code>&lt;</code> and <code>&lt;=</code><br>Evaluates to true if the number on the left side is less than the number on the right.<br><code>&lt;=</code> is less than or equal.</li>
</ul>
</div>
<div class="admonition memo">
<p class="admonition-title">Examples - Boolean Equations</p>
<ul>
<li><code>cat==dog</code> This would evalute to false.</li>
<li><code>tree!=car</code> This would evaluate to true.</li>
<li><code>15&gt;20</code> This would evalute to false.</li>
<li><code>1&lt;=1</code> This would evaluate to true.</li>
</ul>
</div>
<p>If the boolean equation in the block's parameters evaluates as true, the control block will continue executing the payload. If the boolean equation evaluates as false, the control block will execute the portion of the payload designated by a <code>|</code> if it exists, otherwise, it will act as if the control block is null, or does not exist.</p>
<div class="admonition example">
<p class="admonition-title">If Blocks</p>
<ul>
<li><code>{if(booleanEQ):then|else}</code><br>If the boolean equation evaluates to true, the block will result in the payload. If the boolean equation evaluates to false, the block will result in the second portion of the payload after the <code>|</code> if provided.</li>
</ul>
</div>
<div class="admonition example">
<p class="admonition-title">Any Block Aliases</p>
<ul>
<li><code>{any(booleanEQ1|booleanEQ2|etc):then|else}</code></li>
<li><code>{or(booleanEQ1|booleanEQ2|etc):then|else}</code><br>If any of the boolean equations provided evaluate to true, the block will result in the payload. If all of the boolean equations evaluate to false, the block will result in the second portion of the payload after the <code>|</code> if provided. Separate boolean equations inside the parameters with a pipe character <code>|</code>.</li>
</ul>
</div>
<div class="admonition example">
<p class="admonition-title">All Block Aliases</p>
<ul>
<li><code>{all(booleanEQ1|booleanEQ2|etc):then|else}</code></li>
<li><code>{and(booleanEQ1|booleanEQ2|etc):then|else}</code><br>If all of the boolean equations provided evaluate to true, the block will result in the payload. If any of the boolean equations evaluate to false, the block will result in the second portion of the payload after the <code>|</code> if provided. Separate boolean equations inside the parameters with a pipe character <code>|</code>.</li>
</ul>
</div>
<div class="admonition example">
<p class="admonition-title">Break Block Aliases</p>
<ul>
<li><code>{shortcircuit(booleanEQ):then}</code></li>
<li><code>{short(booleanEQ):then}</code></li>
<li><code>{break(booleanEQ):then}</code><br>If the boolean equation evaluates to true, the tag's output will ONLY be the payload of this block.<br>However, Carl-bot commands in command blocks will still execute, and if an embed is defined in the tag's attached embed builder it will still send.</li>
</ul>
</div>
<p>For the <code>if</code>, <code>any</code>, and <code>all</code> control blocks, an optional else statement can be added after the payload by using a pipe character <code>|</code>.</p>
<p>If the boolean equation is true the payload is what is between the colon <code>:</code> and the pipe <code>|</code>. </p>
<p>If the boolean equation is false, the payload is what is between the pipe <code>|</code> and the end of the block <code>}</code>. If the control block does not have an else statement and the boolean is false, the Tagscript Engine ignores that control block.</p>
<div class="admonition memo">
<p class="admonition-title">Examples - Control Blocks</p>
<ul>
<li><code>{if({user(id)}=={target(id)}):You didn't mention someone else.|{user} says {target} is a wuss!}</code></li>
<li><code>{any({user(color)}==#5989ab|{user(color)}==#6296ff|{user(color)}==#000001):You're awesome}</code></li>
<li><code>{all({args}&gt;0|{args}&lt;=100):You ate {args} tacos last night|You must input a number between 1 and 100}</code></li>
<li><code>{break({args}==):You did not provide the proper input.}</code></li>
</ul>
</div>
<h2 id="data-storage-parsing">Data Storage &amp; Parsing</h2>
<p>Tags cannot save data between invocations. There is no database you can read from or write to. But tags can still store data and values to variables and reference them within the instance of the tag.</p>
<h3 id="variable-assignment-blocks">Variable Assignment Blocks</h3>
<p>Often in a tag, you might want to reference the same string of words, or the same number multiple times in your tag. Assigning variables is how you would assign a value to a name for reuse across your entire tag.</p>
<div class="admonition example">
<p class="admonition-title">Variable Assignment Block Aliases</p>
<ul>
<li><code>{=(variablename):Content}</code></li>
<li><code>{assign(variablename):Content}</code></li>
<li><code>{let(variablename):Content}</code></li>
<li><code>{var(variablename):Content}</code><br>Assigns the content in the payload to the name given in the parameters. Block names are synonymous.</li>
</ul>
</div>
<div class="admonition info">
<p class="admonition-title">Variable Naming</p>
<p>You can name variables whatever you would like, but if they share the name of any other Tagscript block or block alias, they will not work to reference the payload. A common error is to name a variable<br><code>{=(c):content}</code><br><code>{c:}</code> is an alias for the command block. It is recommended that variable names be at least 2 characters long.</p>
</div>
<h3 id="variable-blocks">Variable Blocks</h3>
<p>To call the variable, or use the value stored in <code>variablename</code>, you reference the variable's name as a block: <code>{variablename}</code></p>
<div class="admonition memo">
<p class="admonition-title">Example - Nested Variables</p>
<p><code>{=(t1):A}</code><br><code>{=(t2):B}</code><br><code>{=(b1):C}</code><br><code>{=(b2):D}</code><br><code>{=(letter):{if({args}&gt;5):t|b}}</code><br><code>{=(number):{if({args}&lt;20):1|2}}</code><br>You could reference any of the first four variables by nesting the last two together as a block.<br><code>{{letter}{number}}</code> would be <code>{t1}</code> which is <code>A</code> whenever <code>{args}</code> is a number greater than 5 and less than 20.</p>
</div>
<p>With a variable block, you can reference individual words in the variable, like parsing through a list, by specifying the index, or number, for that word as a parameter. The elements in a list are indexed according to their sequence. Index values for variables start at 1 and increment with each delimiter encountered. A delimiter is a sequence of one or more characters for specifying the boundary between separate, independent strings. The default delimiter for variables in Tagscript is a space. You can also set a custom delimiter for a variable block by specifying it as the variable block's payload.</p>
<div class="admonition memo">
<p class="admonition-title">Example - Variable Parsing</p>
<p><code>{args}</code> is the most common variable used in tags, because it is how a tag's creator accesses the information included with the tag's invocation.<br>
In this example:<br>
<code>{args}</code>==<code>Carl likes Subway. Today he got a Spicy Italian with - double pepperoni, double salami, provolone, and tomatoes.</code><br></p>
<p>Since space is the default delimiter, you can easily grab individual words<br>
<code>{args(1)}==Carl</code>, <code>{args(2)}==likes</code>, and <code>{args(3)}==Subway.</code><br>
You can also use <code>{1}</code> to mean <code>{args(1)}</code>, <code>{2}</code> to mean <code>{args(2)}</code> etc...<br></p>
<p>You can parse backwards by using index values below 1.<br>
<code>{args(0)}==tomatoes.</code>, <code>{args(-1)}==and</code>, <code>{args(-2)}==provolone,</code><br></p>
<p>Use a <code>+</code> before the index to reference every element up to and including the index value.<br>
<code>{args(+9)}==Carl likes Subway. Today he got a Spicy Italian</code><br>
Use a <code>+</code> after the index to reference the index value and every element after it.<br>
<code>{args(-11+)}==a Spicy Italian with - double pepperoni, double salami, provolone, and tomatoes.</code><br></p>
<p>You can grab the sentences separately by redefining the delimiter as a <code>.</code><br>
<code>{args(2):.}==Today he got a Spicy Italian with - double pepperoni, double salami, provolone, and tomatoes</code><br></p>
<p>What if you wanted to parse through just the toppings? Set the toppings to another variable then parse that.<br>
<code>{=(toppings):{args(2):-}}</code><br>
<code>{toppings(1):,}== double pepperoni</code>, <code>{toppings(2):,}== double salami</code>, <code>{toppings(0):,}== and tomatoes.</code><br></p>
<p>If you attempt to reference an element with an index that is out of bounds for the variable, Tagscript will return the whole variable.<br>
<code>{args(19)}==Carl likes Subway. Today he got a Spicy Italian with - double pepperoni, double salami, provolone, and tomatoes.</code><br>
If you attempt to reference a span of elements using <code>+</code> after an index that is out of bounds for the variable, Tagscript will return nothing.<br>
<code>{args(3+):.}==</code></p>
</div>
<h3 id="list-cycle-blocks">List &amp; Cycle Blocks</h3>
<p>List and Cycle Blocks are another way to parse through a list of values in Tagscript. They both <strong>strictly</strong> use commas <code>,</code> as the delimiter for the list placed in the block's payload. These blocks only functions in Tags.</p>
<div class="admonition example">
<p class="admonition-title">List &amp; Cycle Blocks</p>
<ul>
<li><code>{list(index):elem, elem2...}</code><br>Returns the element in the payload the corresponds to the index value in the parameters. Block is null if the index is out of bounds.</li>
<li><code>{cycle(index):elem, elem2...}</code><br>Returns the element in the payload the corresponds to the index value in the parameters. Loops around if the index is out of bounds.</li>
</ul>
</div>
<p>Both lists and cycles use 0 as the index for the first element in the list. List blocks will return null if the index is out of bounds, while a cycle block will loop if the index is greater than the number of elements in the list, essentially <code>index</code> = index % list_length. Both allow for backward parsing using negative values. Both blocks will return an error message if the value in parameters is not a number.</p>
<div class="admonition memo">
<p class="admonition-title">Example - List &amp; Cycle Blocks</p>
<ul>
<li><code>{list(3):Carl,Pysnow,Michael,Whoozard,DeaFiore,Viosmic,Pebbles,Kable,Raffael}</code>==<code>Whoozard</code></li>
<li><code>{cycle(31):Carl,Pysnow,Michael,Whoozard,DeaFiore,Viosmic,Pebbles,Kable,Raffael}</code>==<code>DeaFiore</code></li>
</ul>
</div>
<h3 id="index-blocks">Index Blocks</h3>
<p>The index block functions inversely compared to other data parsing blocks. Instead of using an index value to return an element from a list or string, it finds the specified element in the payload and returns that element's index value. This block only functions in Tags.</p>
<div class="admonition example">
<p class="admonition-title">Index Blocks</p>
<p><code>{index(element):list of elements}</code><br>Returns the index value of the element in the parameters for the content in the payload.</p>
</div>
<p>The index block uses 0 as the index for the first element in the payload. The index block always views the payload as being delimited by spaces. If the element specified in the parameters is not found in the payload, the index block will return <code>-1</code>. The index block will always return the index for the first instance of the element in the payload, regardless of how many times it is present.</p>
<div class="admonition memo">
<p class="admonition-title">Example - Index Blocks</p>
<p><code>{index(bread):Which do you like more, bread or chocolate? I like bread more}</code>==<code>5</code></p>
</div>
<h3 id="membership-test-operations">Membership Test Operations</h3>
<p>Membership test operations are blocks that check a value in the block's parameters against the content in the payload and return a boolean value depending on if the value is present. Again, a boolean is a binary variable, having two possible values called <em>true</em> and <em>false</em>. They check to see if the parameter is a <em>member</em> of the payload. These blocks only function in Tags.</p>
<div class="admonition example">
<p class="admonition-title">In &amp; Contains Blocks</p>
<ul>
<li><code>{in(string):string}</code><br>Checks the payload for the presence of the parameter in the payload. Returns <em>true</em> if found or <em>false</em> if not.</li>
<li><code>{contains(element):list}</code><br>Checks the payload for the presence of the parameter as an element of the payload delimited by spaces. Returns <em>true</em> if found or <em>false</em> if not.</li>
</ul>
</div>
<p>The in block is the more powerful of the two, as it checks the payload as a string for the parameter string. Contains is useful to check a list for an element, but is bound to checking for only one element and will return false if that exact element is not present.</p>
<div class="admonition memo">
<p class="admonition-title">Example - In &amp; Contains</p>
<ul>
<li><code>{in(spam):Most server rules prohibit spamming.}</code> would return <code>true</code></li>
<li><code>{in(spicy italian):Today Carl had a spicy italian sub.}</code> would return <code>true</code></li>
<li><code>{in(kable):Kable's beard is majestic}</code> would return <code>false</code> because everything in Tagscript is case-sensitive.</li>
<li><code>{contains(violet):blue black green grey violet red yellow}</code> would return <code>true</code></li>
<li><code>{contains(maple):pine fir aspen oak dogwood}</code> would return <code>false</code></li>
</ul>
</div>
<div class="admonition info">
<p class="admonition-title">In &amp; Contains Blocks</p>
<p>Because these blocks return a boolean value, in almost all use cases it is necessary to use them inside Control blocks and check their value by using them as one side of a boolean equation.<br>
A common use for the contains block is to check if a user has a role.<br>
<code>{if({contains(514905279188434972):{user(roleids)}}==true):That's user is a Fake Canadian!}</code></p>
</div>
<h2 id="embed-blocks">Embed Blocks</h2>
<p>Embed blocks change specific values in a tag's attached embed builder (accessible from <a href="https://carl.gg">Carl-bot's Dashboard</a>). There are only embed blocks for 1st level JSON attributes which are specified as the block's parameters.</p>
<div class="admonition example">
<p class="admonition-title">Embed Blocks</p>
<ul>
<li><code>{embed(title):string}</code><br>Sets the embed's title to the payload.</li>
<li><code>{embed(URL):https://carl.gg}</code><br>Sets the embed title's URL to the payload.</li>
<li><code>{embed(description):string}</code><br>Sets the embed's description to the payload.</li>
<li><code>{embed(color):#5989ab}</code><br>Sets the color of the embed's left vertical bar to the hexidecimal value in the payload.</li>
<li><code>{embed(timestamp):now}</code><br>Sets the embed's timestamp to the value in the payload.</li>
</ul>
</div>
<p>The tag's attached embed builder must have a value in it set via the dashboard before an embed block will work to change values in it. Tags created by command line alone will not display an embed even if these embed blocks are present.</p>
<p>The embed block with the timestamp parameter accepts only <code>now</code> as a value following the payload. The embed block with the color parameters <em>must</em> have a preceding # before the hexadecimal color code.</p>
<h2 id="manipulation-blocks">Manipulation Blocks</h2>
<p>These are blocks that manipulate the string in the payload in specific ways to return different desired results. They can be used to concatenate a string onto the end of a search URL with the correct encoding for spaces, or to sanitize inputs before using the input in a conditional statement, or to remove spaces or specific characters from the payload. They have many potential uses and are versatile. This entire category of blocks only functions in Tags.</p>
<h3 id="case-blocks">Case Blocks</h3>
<p>Case blocks change the case of the text in the payload.</p>
<div class="admonition example">
<p class="admonition-title">Lower &amp; Upper Case Blocks</p>
<ul>
<li><code>{lower:string}</code><br>Returns the payload in all lowercase.</li>
<li><code>{upper:string}</code><br>Returns the payload in all uppercase.</li>
</ul>
</div>
<p>These blocks are useful in sanitizing input when checking it against a list that is all one case.</p>
<div class="admonition memo">
<p class="admonition-title">Example - Case Blocks</p>
<ul>
<li><code>{lower:Whoozard is a Wizard}</code> would return <code>whoozard is a wizard</code></li>
<li><code>{upper:carl-bot best bot}</code> would return <code>CARL-BOT BEST BOT</code></li>
</ul>
</div>
<h3 id="url-encode-blocks">URL Encode Blocks</h3>
<p>The urlencode block encodes the payload into <a href="https://en.wikipedia.org/wiki/Percent-encoding" title="Wikipedia: Percent-encoding">Percent-encoding</a> so it can be included in a URL and understood by the browser of the user that clicked the link.</p>
<div class="admonition example">
<p class="admonition-title">URL Encode Blocks</p>
<ul>
<li><code>{urlencode:payload}</code><br>Encodes the payload into percent-encoding.</li>
<li><code>{urlencode(+):payload}</code><br>Encodes the payload into percent-encoding, but replaces spaces with <code>+</code> instead of <code>%20</code></li>
</ul>
</div>
<div class="admonition memo">
<p class="admonition-title">Example - URL Encode Blocks</p>
<ul>
<li><code>{urlencode:Hey there, how are you?}</code> will return <code>Hey%20there%2C%20how%20are%20you%3F</code> </li>
<li><code>{urlencode(+):Hey there, how are you?}</code> will return <code>Hey+there%2C+how+are+you%3F</code></li>
<li><code>https://www.google.com/search?q={urlencode(+):Carl-bot's dashboard}</code><br>will result in this link: <a href="https://www.google.com/search?q=Carl-bot%27s+dashboard" title="Search for Carl-bot's Dashboard">Google Search Results</a></li>
</ul>
</div>
<h3 id="join-replace-blocks">Join &amp; Replace Blocks</h3>
<p>Join and replace blocks both involve replacing specific characters or substrings in the payload with other characters or substrings.</p>
<div class="admonition example">
<p class="admonition-title">Join &amp; Replace Blocks</p>
<ul>
<li><code>{join(string):string}</code><br>Replaces every space in the payload with the parameters.</li>
<li><code>{replace(1st string,2nd string):string}</code><br>Replaces every instance of the 1st string in the payload with 2nd string.</li>
</ul>
</div>
<p>Parameters <strong>must</strong> be set for these blocks, even if they are null. If the 2nd parameter value for the replace block is null, the block will return the payload with every instance of the 1st parameter value removed. If the 1st parameter value for the replace block is null, the block will return the payload with the 2nd parameter value on each side of every character in the payload.</p>
<div class="admonition memo">
<p class="admonition-title">Example - Join &amp; Replace Blocks</p>
<ul>
<li><code>{join(_):hello friends}</code> will result in <code>hello_friends</code></li>
<li><code>{join():an example sentence}</code> will result in <code>anexamplesentence</code></li>
<li><code>{replace(oo,ee):Goose Tooth Moose}</code> will result in <code>Geese Teeth Meese</code></li>
<li><code>/{replace(, ):Carl-Bot}/</code> will result in <code>/ C a r l - B o t /</code></li>
</ul>
</div>
<h2 id="math-blocks">Math Blocks</h2>
<p>Math blocks perform the mathematical operations in the payload and return the results.</p>
<div class="admonition example">
<p class="admonition-title">Math Block Aliases</p>
<ul>
<li><code>{math:8+9}</code><br></li>
<li><code>{calc:7-4}</code><br></li>
<li><code>{+:8/2}</code><br></li>
<li><code>{m:5*6}</code><br>Evaluates the mathematical operations in the payload in the correct order of operations and returns the result. Block names are synonymous.</li>
</ul>
</div>
<div class="admonition summary">
<p class="admonition-title">Supported Mathematical Operations, Functions and Variables</p>
<ul>
<li><code>a+b</code> Addition</li>
<li><code>a-b</code> Subtraction</li>
<li><code>a*b</code> Multiplication</li>
<li><code>a/b</code> Division</li>
<li><code>a%b</code> Modulo</li>
<li><code>a^b</code> Exponent</li>
<li><code>abs(x)</code> Absolute value of x</li>
<li><code>round(x)</code> Rounds x to the nearest whole number</li>
<li><code>trunc(x)</code> Truncates x to integer value (chops off decimals)</li>
<li><code>sin(x)</code> Returns the sine of x radians</li>
<li><code>cos(x)</code> Returns the cosine of x radians</li>
<li><code>tan(x)</code> Returns the tangent of x radians</li>
<li><code>exp(x)</code> Returns Euler's number raised to the power of x</li>
<li><code>sgn(x)</code> Returns the Sign of x. For <code>x&gt;0</code> returns 1, for <code>x=0</code> returns 0, for <code>x&lt;0</code> returns -1.</li>
<li><code>log(x)</code> Returns the logarithm of x (base 10)</li>
<li><code>ln(x)</code> Returns the natural logarithm of x (base e)</li>
<li><code>log2(x)</code> Returns the logarithm of x (base 2)</li>
<li><code>pi</code> or <code>PI</code> can be used to indicate 𝜋 (3.141592653589793)</li>
<li><code>e</code> or <code>E</code> can be used to indicate Euler's Number (2.718281828459045)</li>
</ul>
</div>
<div class="admonition memo">
<p class="admonition-title">Examples - Math Blocks</p>
<ul>
<li><code>{math:cos(pi)}</code> would return <code>-1.0</code></li>
<li><code>{m:round(7.8)+trunc(8.9)}</code> would return <code>16</code></li>
</ul>
</div>
<h2 id="rng-blocks">RNG Blocks</h2>
<p>Sometimes you want some random in your tag. These blocks have the Tagscript Engine pick a random value out of a list or range you provide.</p>
<h3 id="random-blocks">Random Blocks</h3>
<p>Random blocks choose a random value from the payload. </p>
<div class="admonition example">
<p class="admonition-title">Random Block Aliases</p>
<ul>
<li><code>{random(optional_seed):List,of,elements}</code></li>
<li><code>{rand(optional_seed):List~of~elements}</code></li>
<li><code>{#(optional_seed):4|Weighted,2|list,of,3|elements}</code><br>Chooses a random value out of the list in the payload. Block names are synonymous.</li>
</ul>
</div>
<p>You can use <code>,</code> to separate simple lists, but if you want to use commas as part of an element, you must instead use <code>~</code> to separate all the elements.</p>
<p>Seed values are optional. When a seed value is included as a random block's parameter, the block will 'lock' the random choice to the same index value of the payload every time that same seed value is used. This works similar to a cycle block; the seed value might lock to an index value larger than the number of elements in the list and cycle around. Thus, seed_index % list_length might result in different index values being chosen should the same seed be used in random blocks with different list lengths.</p>
<p>Elements in the payload can be weighted if that is desired. Weighting a value is the same as if that value was in the list of elements that many times.<br><code>{random:4|a,2|b}</code> is the same as <code>{random:a,a,a,a,b,b}</code></p>
<div class="admonition memo">
<p class="admonition-title">Example - Random Blocks</p>
<ul>
<li><code>{rand:Hello, how are you?~Howdy}</code> will return either <code>Hello, how are you?</code> or <code>Howdy</code></li>
<li><code>{#({args}):1,2,3} {#({args}):one,two,three}</code><br>will always return elements with matching indices. <code>1 one</code>, <code>2 two</code>, or <code>3 three</code></li>
<li><code>{random:99|You lost,You won!}</code> has a 1% chance of returning <code>You won!</code></li>
</ul>
</div>
<div class="admonition info">
<p class="admonition-title">Seed values</p>
<p>If you want tag users to receive the same random value each time they use the tag, a common method of doing so is setting the seed value to one of the <code>{user}</code> objects immutable properties, like <code>{user(id)}</code> or <code>{user(created_at)}</code>.</p>
</div>
<h3 id="range-blocks">Range Blocks</h3>
<p>Range blocks return a random number in the range of numbers in the payload.</p>
<div class="admonition example">
<p class="admonition-title">Range Block</p>
<ul>
<li><code>{range(optional_seed):Lower#-Higher#}</code><br>Returns a random whole number in the specified range</li>
<li><code>{rangef(optional_seed):Lower#-Higher#}</code><br>Returns a random number in the specified range with tenths place decimal numbers.</li>
</ul>
</div>
<p>The number range is inclusive, meaning it can pick either endpoint of the specified range as well. It can be seeded similar to the Random block. Rangef will multiply both range endpoints by 10, get a random number in that range, and divide it by 10 to return a number with a tenths place decimal value.</p>
<div class="admonition memo">
<p class="admonition-title">Example - Range Blocks</p>
<ul>
<li><code>{range:1-100}</code> would pick a number from 1 to 100, like 19</li>
<li><code>{rangef:8-9}</code> would pick a number from 8.0 to 9.0, like 8.7</li>
</ul>
</div>
<h3 id="5050-blocks">50/50 Blocks</h3>
<div class="admonition example">
<p class="admonition-title">50/50 Block Aliases</p>
<ul>
<li><code>{5050:payload}</code></li>
<li><code>{50:payload}</code></li>
<li><code>{?:payload}</code><br>Has a 50% chance of returning the payload, and a 50% chance of being null    </li>
</ul>
</div>
<h2 id="time-blocks">Time Blocks</h2>
<p>Time blocks deal with time and how it is represented, as well as calculating the duration between two dates. All time blocks use and display time values for Coordinated Universal Time (or UTC).</p>
<p>Within this section whenever "DateTime" is mentioned, it means a date and time in the following format:<br><code>yyyy-mm-dd HH:MM:SS</code></p>
<h3 id="strf-blocks">Strf Blocks</h3>
<p>Strf blocks return the time data formatted according to Python's strftime, see <a href="http://strftime.org/">http://strftime.org/</a> for more information.</p>
<div class="admonition example">
<p class="admonition-title">Strf Blocks</p>
<ul>
<li><code>{strf(optional DateTime or Unix time):strf formatting codes}</code><br>Returns the DateTime value listed in the parameters in the format described in the payload.</li>
</ul>
</div>
<p>If no parameters are provided, the Tagscript Engine defaults to using the current DateTime as the implied parameters.</p>
<div class="admonition memo">
<p class="admonition-title">Example - Strf Blocks</p>
<ul>
<li><code>December 31st 1999 was a {strf(1999-12-31 23.59.59):%A}</code> will output <code>December 31st 1999 was a Friday</code></li>
<li><code>The current time is {strf:%-I:%M %p}</code> will output <code>The current time is</code> followed by whatever the current 12h clock is for UTC, like <code>2:19 AM</code></li>
<li><code>Your account was created on {strf({user(created_at)}: %x}</code> will output <code>Your account was created on 2015/12/24</code> (for me at least)</li>
</ul>
</div>
<div class="admonition info">
<p class="admonition-title">Strf Formats for Reference</p>
<ul>
<li><code>%Y-%m-%d %H.%M.%S</code> is the DateTime format in strf codes, which can be useful for defining the payload of the timedelta block described below.</li>
<li><code>{strf:%Y-%m-%dT%X}.000Z</code> is the strf block for the ISO 8601 format, which is used when setting the timestamp in an embed's JSON. Useful if you're using Carl-bot's <code>cembed</code> or <code>ecembed</code> commands in a tag.</li>
</ul>
</div>
<h3 id="timedelta-blocks">Timedelta Blocks</h3>
<p>Timedelta blocks calculate the delta, or difference, between two time values.</p>
<div class="admonition example">
<p class="admonition-title">Timedelta Blocks</p>
<ul>
<li><code>{td(optional DateTime or Unix time):DateTime value}</code><br>Outputs a string describing the difference in time between the parameters and the payload.</li>
</ul>
</div>
<p>If no parameters are provided, the Tagscript Engine defaults to using the current DateTime as the implied parameters.</p>
<div class="admonition memo">
<p class="admonition-title">Example - Timedelta Blocks</p>
<ul>
<li><code>{td:2020-01-01 00.00.00}</code> as of 2019-11-25 would output <code>1 month, 5 days and 21 hours</code>, or the time until Midnight New Years Day</li>
<li><code>{td({m:trunc({unix}-3600)}):{strf:%Y-%m-%d %H.%M.%S}}</code> will always output <code>1 hour</code> because <code>{unix}</code> is the current time and we subtracted 3600 seconds.</li>
</ul>
</div>
<h2 id="important-note-on-block-behavior">Important Note on Block Behavior</h2>
<p>Blocks can be placed and nested inside any parts of other blocks to change or modify their behavior. However, all complete, properly formatted blocks "execute". What does that mean?</p>
<p>As an example, let's say you want to give a user the Verified role if they supply a passphrase. Many readers with some experience using other programming languages would type something like,</p>
<div class="admonition fail">
<p class="admonition-title">Example of what NOT TO DO</p>
<p><code>{if({args}=={passphrase}):{cmd:role add {user} Verified}}</code></p>
</div>
<p>However, that command block is a complete, properly formatted block. Tagscript does not care that it is the payload of a control block. The command block will execute, and give the user the role even if the control block's parameters are false. This is not a bug, this is intentional and due to how the Tagscript interpreter works. This applies to all blocks. Because we cannot use conditional statements outside complete blocks to negate complete blocks from executing, we must use control blocks <em>inside</em> complete blocks to determine what the contents of the complete blocks are.</p>
<p>Because the control block must be inside the complete block, it creates a small issue. What part of the previous command block should we use as the if block's payload, and how do we avoid the bot complaining when the boolean equation in the if block is incorrect. Here are some of the different correct options available:</p>
<div class="admonition success">
<p class="admonition-title">Correct ways to conditionally run a command</p>
<ul>
<li><code>{cmd:{if({args}=={passphrase}):role add {user} Verified|echo That is not the passphrase}}</code><br>This passes the echo command to the command block if the boolean equation is incorrect, so the command block is not empty.</li>
<li><code>{cmd:role add {user} {if({args}=={passphrase}):Verified|UnVerified}}</code><br>This adds an alternate role the command grants if the boolean equation is incorrect, so the role add command is not incomplete.</li>
<li><code>{=(null):}{{if({args}=={passphrase}):cmd:role add {user} Verified|null}}</code><br>This defines the variable null, and double brackets the if statement. Depending on the output of the boolean equation, it will either result in <code>{cmd:role add {user} Verified}</code> or <code>{null}</code>. The variable null makes sure if the boolean equation is incorrect, the tag does not output a pair of empty brackets <code>{}</code></li>
</ul>
</div>
<p>Another common goal is to conditionally set variables to a value.</p>
<div class="admonition fail">
<p class="admonition-title">Example of what NOT TO DO</p>
<p><code>{if({args}==xmas):{assign(name):Christmas}{assign(date):-12-25}{assign(emoji):🎄}}</code>
<code>{if({args}==vday):{assign(name):Valentine's Day}{assign(date):-02-14}{assign(emoji):❤️}}</code></p>
</div>
<p>This is similar to the example above. Because those variable assignment blocks are complete, properly formatted blocks, Tagscript executes them and assigns the values in their payloads to the variable names in the blocks' parameters. Since the vday assignment line comes after the xmas one, no matter what <code>{args}</code> is, <code>{name}</code> will be <code>Valentine's Day</code>, <code>{date}</code> will be <code>-02-14</code>, and <code>{emoji}</code> will be <code>❤️</code>. Again, we must move our control blocks inside our complete blocks.</p>
<div class="admonition warning">
<p class="admonition-title">Technically correct but inefficient</p>
<p><code>{assign(name):{if({args}==xmas):Christmas|{if({args}==vday):Valentine's Day}}}</code><br>
<code>{assign(date):{if({args}==xmas):-12-25|{if({args}==vday):-02-14}}}</code><br>
<code>{assign(emoji):{if({args}==xmas):🎄|{if({args}==vday):❤️}}}</code><br>
Holiday: <code>{name}</code><br>
Date: <code>{date}</code><br>
Emoji: <code>{emoji}</code><br>
While this is correct, it's long, and not really the best way to do this. Think about the data and how it could be better collected.</p>
</div>
<div class="admonition success">
<p class="admonition-title">A correct way to conditionally assign variables</p>
<p><code>{assign(xmas):Christmas|-12-25|🎄}</code><br>
<code>{assign(vday):Valentine's Day|-02-14|❤️}</code><br>
<code>{any({args}==xmas|{args}==vday):</code><br>
Holiday: <code>{{args}(1):|}</code><br>
Date: <code>{{args}(2):|}</code><br>
Emoji: <code>{{args}(3):|}}</code><br>
This method assigns all the data that is related to the same holiday to variables split by a pipe symbol, then references each by doublebracketing args when args matches either variable's name.</p>
</div>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../collection/" title="Collection of high quality tags" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Collection of high quality tags
              </span>
            </div>
          </a>
        
        
          <a href="../triggers/" title="Triggers" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Triggers
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2018 - 2019 Carl (admin@carl.gg)
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
  <div class="md-footer-social">
    <link rel="stylesheet" href="../../assets/fonts/font-awesome.css">
    
      <a href="https://carl.gg" class="md-footer-social__link fa fa-globe"></a>
    
      <a href="https://github.com/CarlGroth" class="md-footer-social__link fa fa-github-alt"></a>
    
      <a href="https://twitter.com/Carlgrrr" class="md-footer-social__link fa fa-twitter"></a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.a8b5e56f.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
    
  </body>
</html>